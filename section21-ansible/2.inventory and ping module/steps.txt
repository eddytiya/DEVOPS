now we establish conn betn control system and all other devices(targets)

-now logint into control machine
-now mkdir vprofile
and cd into it
-create mkdir exercise1
and cd into it
and vim inventory file
and add the below code in yaml
all:
  hosts:
    web01:
      ansible_host: 172.31.27.26(this is web 01 instances pvt ip)
      ansible_user: ec2-user
      ansible_ssh_private_key_file: clientkey.pem
-logout
------------------------------------------------------------------------------
refer this
{https://docs.ansible.com/ansible/latest/inventory_guide/intro_inventory.html}
---------------------------------------------------------------------------------
-cat into the client-key.pem file we creted for target files
and copy the whole content

-----BEGIN RSA PRIVATE KEY-----
MIIEowIBAAKCAQEAiDrUlH+5vkDOMMdZMXKi9Gs58nCIViauZVTGAGnCBGOxoPiq
juLwjHGDNEzsHiXWIegUejvkcNeHrxiB3KXYDRkBP5E9cUbfcRaQvFUQNnE2u0tX
/ejxnQv9U8JL/wfUHYkbUIp7L2NCWiHStom1hoKH9oUga/pcdo1ucCC/zYzrJwwN
yMryIRo/JfROODAOUP1T/U8vzYLFgxKwC/iDsBXlmduHOUuklIamX/j/TsXdfAU/
Y9zE4zm6cfWnz3kQSzCWWFhrZqh6LM9PBZFPLIaDYuVvwh/BXQl34jjDF7O0QqGs
44eLZkIiMNQ4Y5dUWWi7G6Lcnd/JF6TKT83fswIDAQABAoIBADztiuwLoAg+NbnN
PtAFxGnqlxUeTWuyiycY3iGLK1IJQIWNEcMsLoexsQuwJ55oL7gkcxwkM0xgqPef
z1ze850QBOXoUIGcQAz1GbCRntmqkt77mJQgHgeuOBPA/3pFhxHao1PHS8bq7t8e
533qYzyQnryb199TLw16vdz6WK5WYpZp+Fq8+bKb1MUBN7RXW/uhpvpgEzVlTnPF
JZ8Rlm/FTLc3Dhe+QdnuggH2TcQiSMG1QDGO0IqZXquEbF+g2JekPxfgIAhfy3ZD
LsqglG63QWbR57V3UkRmtoroAdhm/S6T9BnNY/I4snGEsss1a4W7qHh0Oa6jdGQD
yuYUXyECgYEA1vDr4JYTwQnE3uFSkmgVObV7Tb5tSleIAPypd8D8LbjotO3K37og
jM/If2hXLjzjOyvH/54JdQF4HWe/xhByvkSoiF5JnffSqo3CfD8p73l5GLRGh70M
FspvP7ZhX5dg5aVeFQ4TOVRqM9OipgIP3OqCldWHeWvlv55DVv6yc2MCgYEAokDC
PIvQ8b0o7QIJJVTOticAJUknLWycv5J+WAV4d3T9sNi/8z006c8ZG5myL7lrQEH8
RQPIp+GZkOjR41pP2XDTH/5qBTZPjfoEWdjG2APuZst70Up57yLpxvcpishqKkxO
4VB+W6m2SEBufPmVuzu5smeCFqb+G1S2zJHkm3ECgYEArj15iYM/mkIYFPGlpUe4
xSJoRXq0UAqrFtm7a3fHNi1qf5kw17KjxmJ+T0I/Qh1bu1DffUkYs4AwZe3/2Ujm
K3WvBXUhymvmnBn06hGuJhJb53nknw7SaPtLueNYBkzJ4P/wR7M0REo5GbBbbqXH
RDfbCimh+/1Krs5WGoS4Fq8CgYAWUuSmofIQoJ8V5PbPLRj31OvfNW5vgIcckJJT
mAUYIn+ZKmlWlTBHjxf8RSxQBqnsAGguMrQT7SVM28utBUsBNtXFjCKYLv3JIgIh
PoM1S20stYiGpkGalmol1vHfR23b/f3IYGPSRspurHbHOSvRxAjrs/QhG77QkdpI
0TXr8QKBgCqsZOjVB76IFfhS98hlcJjWULqtZP7YlWpH/j2qEw5DusnxptGICVJD
KhB2vkayGZT/VtKFDSyWv7eyDRGy2HqjdDKvr1kX3c3kOpLeQN/kSg+2ZHk/MYYU
Ve1wgeWJoxTl63lGaQvIQ78muIolsSsRxil98965ylvBl+Ox8/n/
-----END RSA PRIVATE KEY-----



-now login to control angain
and go to the dir 
/vprofile/exercise1
-cat the inventory

1>look at hte last file name clinet and vim into at as shown in img 1
 
-now we have to paste the above thin we copied into that file and save the file

------------------
-now we connect
ansible web01 -m ping -i inventory
(it willl ask for a passwd but we want no passed auth so we will configure ansible for it)
-goto
sudo cat /etc/ansible/ansible.cfg

2>we need to configure teh highlighted as shown in the image2

-cd /etc/ansible
ls
mv ansible.cfg ansible.cfg_backup
(rename)
and run the cmd as highlighted in img2
ansible-config init --disabled -t all > ansible.cfg

and this craetes an ansible config file

-vim ansible.cfg 
and search for
:/host_key_checking

u will see an semicolon remove the colon
and chnage true into false



now revert back to the directory
root@ip-172-31-17-204:/etc/ansible# cd
root@ip-172-31-17-204:~# cd vprofile
root@ip-172-31-17-204:~/vprofile# cd exercise1
root@ip-172-31-17-204:~/vprofile/exercise1# ls
clientkey.pem  inventory
root@ip-172-31-17-204:~/vprofile/exercise1#


again run this cmd and it will show error that the pem key is not secire so we need to change the permissions on it
 ansible web01 -m ping -i inventory
 chmod 400 clientkey.pem
 ansible web01 -m ping -i inventory
3>as u can see the output it will run in img 3